__zprofile_lib_prepend_path() {
  local -r variable="$1"
  local -r directory="$2"
  local -r directory_w_sep="${directory}${(P)variable:+':'}"

  if [[ -d "${directory}" ]]; then
    eval "export ${variable}=${directory_w_sep}${(P)variable}"
  fi
}

__zprofile_lib_unfunction() {
  unfunction __zprofile_lib_prepend_path
}

# vim:ft=zsh
